<!DOCTYPE html>
<html lang="en">
    <head><title></title>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
    <meta name="description" content=""/>

    <meta property="og:title" content="
     -&nbsp;Introduction" />
    <meta property="og:type" content="website"/>
    <meta property="og:url" content="https:&#x2F;&#x2F;krABMaga.github.io&#x2F;"/>
    <meta property="og:description" content=""/>
    <link rel="preload" href="/assets/fonts/FiraCode-Regular.woff" as="font" type="font/woff" crossorigin>
    <link rel="preload" href="/assets/fonts/FiraCode-Bold.woff" as="font" type="font/woff" crossorigin>

    <link rel="stylesheet" href="https://krABMaga.github.io/style.css">
    <link rel="stylesheet" href=" https://krABMaga.github.io/color/orange.css">
    <link rel="stylesheet" href="https://krABMaga.github.io/custom.css">
    
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
        <link rel="manifest" href="/site.webmanifest">
        <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
        <meta name="msapplication-TileColor" content="#da532c">
        <meta name="theme-color" content="#ffffff">
        
    </head>
    <body>
        <div class="container full">

<style>
/* background: #211f1a
/* The sticky class is added to the header with JS when it reaches its scroll position */
.header {
  /* overflow: hidden; */
  padding: 10px 10px 0px 0px;
  background: #211f1a ;
  z-index:99;
}

.content {
  z-index:0;
  position:relative;
  padding: 10px 0px 0px 0px;

}

.sticky {
  position: fixed;
  top: 0;
  width: 100%;
  padding: 10px 90px 0px 0px;

 
}

@media(max-width: 683px) 
{
  .sticky {
    padding: 10px 30px 0px 0px;
  }
}

</style>


 <header class="header" id="myHeader" style="background: #211f1a ;" >
    <div class="header__inner">
        <div class="header__logo">
            <a href="https:&#x2F;&#x2F;krABMaga.github.io&#x2F;">
    <div class="logo">
        <img style="width: 50;height:50px;margin-left: auto;margin-right: auto;" src="https://krABMaga.github.io/images/krabmaga.png"/>
        <!-- krABMaga -->

    </div>
</a>
        </div>
        <div class="menu-trigger">menu</div>
      </div>
      
    <nav class="menu">
        <ul class="menu__inner menu__inner--desktop">
            
            
                 
                        <li>
                            <a href="https://krABMaga.github.io">Home</a>
                        </li>
                <li>
                            <a href="https://docs.rs/krabmaga">Docs</a>
                        </li>
                

                <ul class="menu__sub-inner">
                    <li class="menu__sub-inner-more-trigger">Examples ‚ñæ</li>
                    <ul class="menu__sub-inner-more hidden">
                        
        <li>
            <a href="https://krABMaga.github.io/template">Template</a>
        </li>
        <li>
            <a href="https://krABMaga.github.io/antsforaging">Ants Foraging</a>
        </li>
        <li>
            <a href="https://krABMaga.github.io/flockers">Flockers</a>
        </li>
        <li>
            <a href="https://krABMaga.github.io/forestfire">Forest fire</a>
        </li>
        <li>
            <a href="https://krABMaga.github.io/schelling">Schelling</a>
        </li>
        <li>
            <a href="https://krABMaga.github.io/sugarscape">Sugarscape</a>
        </li>
        <li>
            <a href="https://krABMaga.github.io/virusnetwork">Virus on a Network</a>
        </li>
        <li>
            <a href="https://krABMaga.github.io/wolfsheepgrass">Wolf Sheep Grass</a>
        </li>
                    </ul>
                </ul>

                <li></li>

                
                 
                    <li>
                         <a href="https://krABMaga.github.io/model_exp">Model Exploration</a>
                    </li>
                
                 
                    <li>
                         <a href="https://krABMaga.github.io/benchmarks">Benchmarks</a>
                    </li>
                
                 
                    <li>
                         <a href="https://krABMaga.github.io/contrib">Contributors</a>
                    </li>
                <!---->

                <!---->
                
            </ul>

        <ul class="menu__inner menu__inner--mobile">
            
        <li>
            <a href="https://krABMaga.github.io">Home</a>
        </li>
        <li>
            <a href="https://krABMaga.github.io/template">Template</a>
        </li>
        <li>
            <a href="https://krABMaga.github.io/antsforaging">Ants Foraging</a>
        </li>
        <li>
            <a href="https://krABMaga.github.io/flockers">Flockers</a>
        </li>
        <li>
            <a href="https://krABMaga.github.io/forestfire">Forest fire</a>
        </li>
        <li>
            <a href="https://krABMaga.github.io/schelling">Schelling</a>
        </li>
        <li>
            <a href="https://krABMaga.github.io/sugarscape">Sugarscape</a>
        </li>
        <li>
            <a href="https://krABMaga.github.io/virusnetwork">Virus on a Network</a>
        </li>
        <li>
            <a href="https://krABMaga.github.io/wolfsheepgrass">Wolf Sheep Grass</a>
        </li>
        <li>
            <a href="https://krABMaga.github.io/model_exp">Model Exploration</a>
        </li>
        <li>
            <a href="https://krABMaga.github.io/benchmarks">Benchmarks</a>
        </li>
        <li>
            <a href="https://krABMaga.github.io/contrib">Contributors</a>
        </li>
        </ul>
    </nav>

    </header>

<script>
  window.onscroll = function() {myFunction()};
  
  var header = document.getElementById("myHeader");
  var sticky = header.offsetTop;
  
  function myFunction() {
    if (window.pageYOffset > sticky) {
      header.classList.add("sticky");
    } else {
      header.classList.remove("sticky");
    }
  }
</script>


<div class="content"><div class="post">
    <div style="text-align: center;">
        <img style="width: 200;height:200px;margin-left: auto;margin-right: auto;" src="/images/krabmaga.gif"/>
        <h1>krABMaga</h1>
        <h3>A modern developing art for reliable and efficient ABM simulation with the Rust language.</h3>
    </div>
    
    <h1 class="post-title">
        Introduction
    </h1>

    <div class="post-content">
           <!-- <img style="width: 200px;height:200px;margin-left: auto;margin-right: auto;" src="https://krABMaga.github.io/images/rustab.png"/> -->
        <p><a href="https://github.com/krABMaga/krABMaga">krABMaga</a> is a discrete events simulation engine for developing ABM simulation
written in the <a href="https://www.rust-lang.org/">Rust language</a>.</p>
<p><a href="https://github.com/krABMaga/krABMaga">krABMaga</a> is designed to be a ready-to-use tool for the ABM community and for this
reason the architectural concepts of the well-adopted <a href="https://cs.gmu.edu/~eclab/projects/mason/">MASON library</a> were
re-engineered to exploit the Rust peculiarities and programming model, in particular by keeping the visualization and the
simulation subsystems fully separated.</p>
<p><em>Developed by <a href="https://www.isislab.it">IsisLab</a></em>
<img alt="ISISLab Logo" src="https://raw.githubusercontent.com/krABMaga/krABMaga.github.io/main/static/images/isislab.png"></p>
<hr />
<h2 id="table-of-contents">Table of contents<a class="zola-anchor" href="#table-of-contents" aria-label="Anchor link for: table-of-contents">¬ß</a>
</h2>
<!-- no toc -->
<ul>
<li><a href="https://krABMaga.github.io/#table-of-contents">Table of contents</a></li>
<li><a href="https://krABMaga.github.io/#dependencies">Dependencies</a></li>
<li><a href="https://krABMaga.github.io/#how-to-run-your-first-example-simulaton">How to run your first example simulaton</a></li>
<li><a href="https://krABMaga.github.io/#how-to-write-your-first-model">How to write your first model</a></li>
<li><a href="https://krABMaga.github.io/#available-features">Available features</a></li>
<li><a href="https://krABMaga.github.io/#macros-for-playing-with-simulation-terminal">Macros for playing with Simulation Terminal</a></li>
<li><a href="https://krABMaga.github.io/#how-to-contribute">How to contribute</a></li>
<li><a href="https://krABMaga.github.io/#architecture">Architecture</a>
<ul>
<li><a href="https://krABMaga.github.io/#agents">Agents</a></li>
<li><a href="https://krABMaga.github.io/#simulation-state">Simulation state</a></li>
<li><a href="https://krABMaga.github.io/#schedule">Schedule</a></li>
<li><a href="https://krABMaga.github.io/#data-structures">Data structures</a></li>
</ul>
</li>
</ul>
<hr />
<h1 id="dependencies">Dependencies<a class="zola-anchor" href="#dependencies" aria-label="Anchor link for: dependencies">¬ß</a>
</h1>
<p>The visualization framework requires certain dependencies to run the simulation properly.</p>
<ul>
<li>üíª Windows: <a href="https://visualstudio.microsoft.com/thank-you-downloading-visual-studio/?sku=BuildTools&amp;rel=16">VS2019 build tools</a></li>
<li>üçé MacOS: No dependencies needed.</li>
<li>üêß Linux: A few dependencies are needed. Check <a href="https://github.com/bevyengine/bevy/blob/main/docs/linux_dependencies.md">here</a> for a list based on your distribution.</li>
</ul>
<hr />
<h1 id="how-to-run-your-first-example-simulaton">How to run your first example simulaton<a class="zola-anchor" href="#how-to-run-your-first-example-simulaton" aria-label="Anchor link for: how-to-run-your-first-example-simulaton">¬ß</a>
</h1>
<p>First of all, install latest version of <a href="https://www.rust-lang.org/tools/install">Rust</a>. Follow steps to setup Rust toolchain (<em>cargo</em>, <em>rustc</em> and <em>rustup</em>).</p>
<p>Now, you can download/clone all available krABMaga examples from our github repository called <a href="https://github.com/krABMaga/examples">examples</a>.</p>
<p>To run a simulation, go to root directory of a model, for example <code>/path/to/examples/flockers</code>. With command <code>ls</code>, you should be able to see a typcal krABMaga simulation struct:</p>
<ul>
<li><code>src</code>: main folder with code. It contains <code>main.rs</code> file and two directories for model and visulization components.</li>
<li><code>Cargo.toml</code>: Configuration file for Rust project, with dependencies and features.</li>
<li><code>assets</code>: an images folder. It contains all the icons that can be used for visualization.</li>
<li><code>Makefile.toml</code>: another configuration file, necessary to a correct execution of visualization.</li>
</ul>
<p>Inside the root directory of model that you choose, you can run a models with or without visualization. </p>
<p>To simply run your simulation, with no visualization:</p>
<pre data-lang="sh" class="language-sh "><code class="language-sh" data-lang="sh">cargo run --release
</code></pre>
<p>Running in this way, you can see our <code>Simulation Terminal</code> (better known as <code>Simulation Monitor</code>) based on <a href="https://github.com/fdehau/tui-rs">tui-rs</a>, a rust library that provides components to create terminal with an interface. As a modelist, you can use krABMaga macros to create several plots, print logs and add a model description (shown using a popup)</p>
<style>
* {
  box-sizing: border-box;
}
.column {
  height: auto;
  min-height: 100%;
  /* width: 45.0%; */
  min-width: 200px;
  padding: 5px;
  display:inline-block;
  text-align: center;
  vertical-align:middle; 
}

  @media screen and (max-width: 400px) {
    .column{
        width: 45%;
    }
  }


/* Clearfix (clear floats) */
.row::after {  
  content: "";
  clear: both;
  display: table;
}

.row{
    text-align: center;

}
</style>
<div class="row">
  <div class="column" >
    <img style="margin-left: auto;" src="https://raw.githubusercontent.com/krABMaga/krABMaga.github.io/main/static/images/tui-wsg.gif"/>
  </div>
  <div class="column">
    <img style="margin-left: auto;" src="https://raw.githubusercontent.com/krABMaga/krABMaga.github.io/main/static/images/ant.gif"/>
  </div>
</div>
<p>Based on <a href="https://bevyengine.org/">Bevy game engine</a>, it's possible to run simulation with visualization. It's also available a menu to start and stop simulations and a slider to set simulation speed.
To run a model with visualization enabled, you have to start the simulation with the command:</p>
<pre data-lang="sh" class="language-sh "><code class="language-sh" data-lang="sh">cargo run --release --features  visualization

# Alternative command. Requires &#x27;cargo make&#x27; installed
cargo make run --release 
</code></pre>
<p>In addition to the classical visualization, you can run your krABMaga simulation inside your browser using <a href="https://webassembly.org"><em>Web Assembly</em></a>. 
This is possible with the command:</p>
<pre data-lang="sh" class="language-sh "><code class="language-sh" data-lang="sh"># Requires &#x27;cargo make&#x27; installed
cargo make serve --release 
</code></pre>
<hr />
<h1 id="how-to-write-your-first-model">How to write your first model<a class="zola-anchor" href="#how-to-write-your-first-model" aria-label="Anchor link for: how-to-write-your-first-model">¬ß</a>
</h1>
<p>If you don't start from our <a href="https://github.com/krABMaga/examples/tree/main/template">Template</a>, add this to your <code>Cargo.toml</code>:</p>
<pre data-lang="toml" class="language-toml "><code class="language-toml" data-lang="toml">[dependencies]
krABMaga = { git=&quot;https:&#x2F;&#x2F;github.com&#x2F;krABMaga&#x2F;krABMaga.git&quot; }

[features]
visualization = [&quot;krABMaga&#x2F;visualization&quot;]
visualization_wasm = [&quot;krABMaga&#x2F;visualization_wasm&quot;]
</code></pre>
<p>We <strong>strongly</strong> recommend to use <a href="https://github.com/krABMaga/examples/tree/main/template">Template</a> or any other example as base of a new project, especially if you want to provide any visualization.</p>
<p>Each krABMaga model needs structs that implements our <em>Traits</em>, one for <em>State</em> and the other for <em>Agent</em>. In the <em>State</em> struct you have to put <em>Agent</em> field(s), because it represents the ecosystem of a simulation. More details for each krABMaga componenet are in the <a href="https://krABMaga.github.io/#architecture">Architecture</a> section.</p>
<p>The simplest part is <code>main.rs</code>, because is similar for each example.
You can define two <em>main</em> functions using <strong>cfg</strong> directive, that can remove code based on which features are (not) enabled.<br />
Without visualization, you have only to use <em>simulate!</em> to run simulation, passing a state, step number and how may time repeat your simulation. 
With visualization, you have to set graphical settings (like dimension or background) and call <em>start</em> method.</p>
<pre data-lang="rs" class="language-rs "><code class="language-rs" data-lang="rs">&#x2F;&#x2F; Main used when only the simulation should run, without any visualization.
#[cfg(not(any(feature = &quot;visualization&quot;, feature = &quot;visualization_wasm&quot;)))]
fn main() {
  let dim = (200., 200.);
  let state = Flocker::new(dim, num_agents);
  let step = 10;
  let reps = 1;
  let num_agents = 100;  
  let _ = simulate!(state, step, reps);
}

&#x2F;&#x2F; Main used when a visualization feature is applied.
#[cfg(any(feature = &quot;visualization&quot;, feature = &quot;visualization_wasm&quot;))]
fn main() {
  let dim = (200., 200.);
  let num_agents = 100;
  let state = Flocker::new(dim, num_agents);
  Visualization::default()
      .with_window_dimensions(1000., 700.)
      .with_simulation_dimensions(dim.0 as f32, dim.1 as f32)
      .with_background_color(Color::rgb(0., 0., 0.))
      .with_name(&quot;Flockers&quot;)
      .start::&lt;VisState, Flocker&gt;(VisState, state);
}

</code></pre>
<hr />
<h1 id="available-features">Available features<a class="zola-anchor" href="#available-features" aria-label="Anchor link for: available-features">¬ß</a>
</h1>
<style>
  table{
    word-wrap: break-word;
    table-layout: auto;
    width: 100%;
    
  }
</style>
<p>This library offers some features to make your simulation more interesting and to avoid to install many dependencies that are not needed for basic simulation.</p>
<pre data-lang="sh" class="language-sh "><code class="language-sh" data-lang="sh">cargo run --release --features &lt;name_feature&gt;
</code></pre>
<div  style="overflow-x:auto;">
<table><thead><tr><th style="text-align: center">Compilation Feature</th><th style="text-align: center">Description</th><th style="text-align: center">Experimental</th><th style="text-align: center">Release Candidate</th><th style="text-align: center">Stable</th></tr></thead><tbody>
<tr><td style="text-align: center"><strong>No Features</strong></td><td style="text-align: center">Possibility to run model using <code>Simulation Terminal</code> and setup model-exploration experiments (Parameter Sweeping, Genetic and Random) in sequential/parallel mode. It's enough to create your base simulations.</td><td style="text-align: center"></td><td style="text-align: center"></td><td style="text-align: center">ü¶Ä</td></tr>
<tr><td style="text-align: center"><strong>visualization</strong></td><td style="text-align: center">Based on <code>Bevy engine</code>, it makes possible to visualize your model elements, to understand better the behavior of your simulation.</td><td style="text-align: center"></td><td style="text-align: center">ü¶Ä</td><td style="text-align: center"></td></tr>
<tr><td style="text-align: center"><strong>visualization-wasm</strong></td><td style="text-align: center">Based on <code>Web Assembly</code>, give you the possibility to execute your visualized simulation inside your own browser.</td><td style="text-align: center"></td><td style="text-align: center">ü¶Ä</td><td style="text-align: center"></td></tr>
<tr><td style="text-align: center"><strong>distributed-mpi</strong></td><td style="text-align: center">Enable distributed model exploration using MPI. At each iteration, the amount of configurations are balanced among your nodes.</td><td style="text-align: center"></td><td style="text-align: center">ü¶Ä</td><td style="text-align: center"></td></tr>
<tr><td style="text-align: center"><strong>bayesian</strong></td><td style="text-align: center">Use ML Rust libraries to use/create function to use <code>Bayesian Optimization</code>.</td><td style="text-align: center"></td><td style="text-align: center">ü¶Ä</td><td style="text-align: center"></td></tr>
<tr><td style="text-align: center"><strong>parallel</strong></td><td style="text-align: center">Speed-up a single simulation parallelizing agent scheduling during a step.</td><td style="text-align: center">ü¶Ä</td><td style="text-align: center"></td><td style="text-align: center"></td></tr>
</tbody></table>
</div>
<hr />
<h1 id="macros-for-playing-with-simulation-terminal">Macros for playing with Simulation Terminal<a class="zola-anchor" href="#macros-for-playing-with-simulation-terminal" aria-label="Anchor link for: macros-for-playing-with-simulation-terminal">¬ß</a>
</h1>
<p><code>Simulation Terminal</code> is enabled by default using macro <code>simulate!</code>, so can be used passing a state, step number and how may time repeat your simulation..
That macro has a fourth optional parameter, a boolean. When <code>false</code> is passed, <code>Simulation Terminal</code> is disabled.</p>
<pre data-lang="rs" class="language-rs "><code class="language-rs" data-lang="rs">($s:expr, $step:expr, $reps:expr $(, $flag:expr)?) =&gt; {{
      &#x2F;&#x2F; Macro code 
}}
</code></pre>
<p>You can create tabs and plot your data using two macro:</p>
<ul>
<li><code>addplot!</code> let you create a new plot that will be displayed in its own tab.</li>
</ul>
<pre data-lang="rs" class="language-rs "><code class="language-rs" data-lang="rs">addplot!(String::from(&quot;Chart Name&quot;), String::from(&quot;xxxx&quot;), String::from(&quot;yyyyy&quot;));
</code></pre>
<ul>
<li><code>plot!</code> to add a point to a plot. Points can be added during simulation execution, for example inside <code>after_step</code> method.
You have to pass plot name, series name, x value and y value. Coordinate values need to be <code>f64</code>.</li>
</ul>
<pre data-lang="rs" class="language-rs "><code class="language-rs" data-lang="rs">plot!(String::from(&quot;Chart name&quot;), String::from(&quot;s1&quot;), x, y);
</code></pre>
<p>On Terminal home page there is also a <em>log section</em>, you can plot log messages when some event needs to be noticed.
You can navigate among all logs using ‚Üë‚Üì arrows.
To add a log use the macro <code>log!</code>, passing a <code>LogType</code> (an enum) and the log message.</p>
<pre data-lang="rs" class="language-rs "><code class="language-rs" data-lang="rs"> log!(LogType::Info, String::from(&quot;Log Message&quot;));
</code></pre>
<p>Are available four type of Logs:</p>
<pre data-lang="rs" class="language-rs "><code class="language-rs" data-lang="rs">pub enum LogType {
    Info,
    Warning,
    Error,
    Critical,
}
</code></pre>
<hr />
<h1 id="how-to-contribute">How to contribute<a class="zola-anchor" href="#how-to-contribute" aria-label="Anchor link for: how-to-contribute">¬ß</a>
</h1>
<p>If you want to test, add or change something inside krABMaga engine, you can clone <a href="https://github.com/krABMaga/krABMaga">main repo</a> locally, and change dependecy inside <code>Cargo.toml</code> of your examples:</p>
<pre data-lang="toml" class="language-toml "><code class="language-toml" data-lang="toml">[dependencies]
# krABMaga = { git=&quot;https:&#x2F;&#x2F;github.com&#x2F;krABMaga&#x2F;krABMaga.git&quot; }
krABMaga = { path=&quot;path&#x2F;to&#x2F;krABMaga&quot;}
</code></pre>
<hr />
<h1 id="architecture">Architecture<a class="zola-anchor" href="#architecture" aria-label="Anchor link for: architecture">¬ß</a>
</h1>
<div class="row">
  <div class="column">
    <img src="/images/krabmaga-arch.jpg" alt="krABMaga Architecture" style="margin: auto; width: 80%">
  </div>
</div>
<h2 id="agents">Agents<a class="zola-anchor" href="#agents" aria-label="Anchor link for: agents">¬ß</a>
</h2>
<p>The krABMaga framework defines a trait <code>Agent</code> that can be implemented on a struct to define <code>Agent</code> specific functionalities,
mainly the <code>step</code> method which specifies how the agent behaves for each simulation step, and the <code>get_id</code> method,
to uniquely identify an agent. There are also other methods, with default implementation, to improve agent control:</p>
<ul>
<li><code>is_stopped</code> notify the scheduler if a specific agent should be removed or not, based on some condition.</li>
<li><code>before_step</code> and <code>after_step</code> to implement some operations before/after a step.</li>
</ul>
<p>The krABMaga framework allow multi-agent implementations: you can define multiple 'Agent' that
implement the trait, and <a href="https://krABMaga.github.io/wolfsheepgrass/">Wolf, Sheep &amp; Grass</a> is the main example of this feature.</p>
<hr />
<h2 id="simulation-state">Simulation state<a class="zola-anchor" href="#simulation-state" aria-label="Anchor link for: simulation-state">¬ß</a>
</h2>
<p>The simulation state can be considered as the single source of truth of the simulation, where data resides and is updated.
Like <code>Agent</code>, krABMaga exposes a <code>State</code> trait to let the user mark a particular structure as a simulation state, along with
exposing an <code>update</code> method to define logic to execute once for each simulation step. The simulation state is the perfect
structure to put field definitions on (such as 2D continuous fields, grids and so on). An important effect of the state being
the single source of truth forces agents to update (and most importantly read) their own location by interacting with the
state, even though they can store their own location locally in the agent structure too. Although, to be sure one is interacting
with the latest computed data, it is considered a good practice to update both an agent own location field and its copy on the
state structure.</p>
<hr />
<h2 id="schedule">Schedule<a class="zola-anchor" href="#schedule" aria-label="Anchor link for: schedule">¬ß</a>
</h2>
<p>The simulation timeline is controlled by a Schedule structure that takes care of notifying all the scheduled agents, and the
simulation state that a step has been taken. For this reason, agents should be scheduled so that they can be notified when
a step has been taken.
The scheduler works as a priority queue, where the agents are sorted according to their scheduled time
and a priority value - an integer. The simulation time - a real value - starts from the scheduling time of the first agent.
The schedule structure exposed by the krABMaga framework provides two methods to do so:</p>
<ul>
<li>
<p><code>schedule_once</code> to insert an agent in the schedule for a specific simulation step. The scheduling time and the
priority are given as parameters. The priority is used to sort all agents within the same simulation time.</p>
</li>
<li>
<p><code>schedule_repeating</code> which acts like schedule once, with the difference that the agent will be scheduled for all
subsequent simulation steps.</p>
</li>
</ul>
<p>The schedule provides the <code>step</code> method which allows executing one simulation step. In this way, the programmer can
easily design his/her simulation by looping for a certain number of step or for a given amount of CPU time.</p>
<hr />
<h2 id="data-structures">Data structures<a class="zola-anchor" href="#data-structures" aria-label="Anchor link for: data-structures">¬ß</a>
</h2>
<!-- The krABMaga framework exposes a few data structures based on the `DBDashMap`, a customized version of the 
[Rust HashMap](https://doc.rust-lang.org/std/collections/struct.HashMap.html) that implements a double
buffering technique to avoid indeterminism caused by the lack of knowledge of the agents' step execution order within a step.
The `DBDashMap` implements the interior mutability pattern, which allows the user to safely write in it without having an actual
mutable reference to the structure, because the reads are done on a different memory block than the writes. Only the `update`
method actually requires a mutable reference, to swap the read and the write buffers and commit the changes. -->
<p>The currently implemented structures are:</p>
<ul>
<li>
<p><code>Field2D</code>, a sparse matrix structure modelling agent interactions on a
2D real space with coordinates represented by 2D f32 tuples (<code>Real2D</code>).</p>
</li>
<li>
<p><code>Grid2D</code>, a discrete field representing agents locations as 2D i32 tuples (<code>Int2D</code>). This structure keeps two copies of a DBDashMap in sync,
one the inverse of the other, to allow constant time access both by key (agent) and by value (position). There are two kind of Grid based on density, <code>SparseGrid2D</code> and <code>DenseGrid2D</code>.</p>
</li>
<li>
<p><code>NumberGrid2D</code>, a simpler version of the <code>Grid2D</code> to use with simpler values. This is useful to represent simulation spaces
covered by a simple entity that can be represented with a non-agent structure. This data structure can be used with any
structure that can be cloned, most notably simple primitive values such as f32s. As the previous grid, there are two implementations: <code>SparseNumberGrid2D</code> and <code>DenseNumberGrid2D</code>.</p>
</li>
<li>
<p><code>Network</code> and <code>HNetwork</code> to connect any kind of nodes using <code>Edge</code>/<code>HEdge</code>. With <code>Network</code> you can define both directed and undirected graphs and connect a couple of nodes with an edge with label and/or weight. <code>HNetwork</code> is a generalization of a <code>Network</code> to represent hypergraph. In this case, <code>HEdge</code> is an <code>HashSet</code> of nodes.
With this fields you can reproduce any kind of graph or network, such as for our example <a href="/virusnetwork"><code>Virus on a Network</code></a>.</p>
</li>
</ul>
<hr />
<h1 id="support-conference-paper">Support conference paper<a class="zola-anchor" href="#support-conference-paper" aria-label="Anchor link for: support-conference-paper">¬ß</a>
</h1>
<p>If you find this code useful in your research, please consider citing:</p>
<pre><code>@ARTICLE{AntelmiASIASIM2019,
  author={Antelmi, A. and Cordasco, G. and D‚ÄôAuria, M. and De Vinco, D. and Negro, A. and Spagnuolo, C.},
  title={On Evaluating Rust as a Programming Language for the Future of Massive Agent-Based Simulations},
  journal={Communications in Computer and Information Science},
  note={Conference of 19th Asia Simulation Conference, AsiaSim 2019 ; Conference Date: 30 October 2019 Through 1 November 2019;  Conference Code:233729},
  year={2019},
  volume={1094},
  pages={15-28},
  doi={10.1007&#x2F;978-981-15-1078-6_2},
  issn={18650929},
  isbn={9789811510779},
}

</code></pre>

    </div>


    
</div></div>
    <div class="pagination">
        <div class="pagination__buttons">
            </div>
    </div>
<footer class="footer">
                    <div class="footer__inner"><div class="copyright copyright--user">¬© krABMaga MIT License</div>
    <script type="text/javascript" src="https://krABMaga.github.io/assets/js/main.js"></script>
</div>
                    

                </footer></div>
    </body>
</html>
